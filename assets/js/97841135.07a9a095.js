"use strict";(globalThis.webpackChunk_graphql_markdown_website=globalThis.webpackChunk_graphql_markdown_website||[]).push([["949"],{60903:function(e,n,t){t.r(n),t.d(n,{default:()=>h,frontMatter:()=>r,metadata:()=>i,assets:()=>d,toc:()=>c,contentTitle:()=>s});var i=JSON.parse('{"id":"advanced/hook-recipes","title":"Hooks Recipes","description":"This page lists examples of usage of hooks.","source":"@site/docs/advanced/hook-recipes.md","sourceDirName":"advanced","slug":"/advanced/hook-recipes","permalink":"/docs/advanced/hook-recipes","draft":false,"unlisted":false,"editUrl":"https://github.com/graphql-markdown/graphql-markdown/tree/main/docs/advanced/hook-recipes.md","tags":[],"version":"current","frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"Homepage","permalink":"/docs/advanced/homepage"},"next":{"title":"Integration with Frameworks","permalink":"/docs/advanced/integration-with-frameworks"}}'),a=t("85893"),o=t("50065");let r={},s="Hooks Recipes",d={},c=[{value:"Generate index.md files",id:"generate-indexmd-files",level:2}];function l(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"hooks-recipes",children:"Hooks Recipes"})}),"\n",(0,a.jsxs)(n.p,{children:["This page lists examples of usage of ",(0,a.jsx)(n.a,{href:"/api/category/events",children:"hooks"}),"."]}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["Hooks are part of the ",(0,a.jsx)(n.a,{href:"/docs/advanced/integration-with-frameworks",children:"documentation frameworks integration"})," API."]})}),"\n",(0,a.jsx)(n.h2,{id:"generate-indexmd-files",children:"Generate index.md files"}),"\n",(0,a.jsxs)(n.p,{children:["You can use this hook to generate ",(0,a.jsx)(n.code,{children:"index.md"})," files."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-md",children:'---\ntitle: "Unions"\n---\n\n- [ActivityUnion](./activity-union.mdx)\n- [LikeableUnion](./likeable-union.mdx)\n- [NotificationUnion](./notification-union.mdx)\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Declare the custom module in GraphQL-Markdown configuration ",(0,a.jsx)(n.code,{children:'mdxParser: "./custom-mdx.mjs"'}),"."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",metastring:'title="custom-mdx.mjs"',children:'\nimport { join, dirname, resolve, basename } from "node:path";\nimport { appendFile } from "node:fs/promises";\n\nimport {\n  ensureDir,\n  fileExists,\n  saveFile,\n  startCase,\n} from "@graphql-markdown/utils";\n\nconst INDEX_MD = "index.md";\n\n/**\n * Hook that generates an index metadata file for a category directory.\n * \n * This hook is executed before generating index metadata files. \n * It checks if an index.md file exists in the specified directory. \n * If not, it creates one with a title derived from the category name.\n */\nconst beforeGenerateIndexMetafileHook = async (event) => {\n  const { dirPath, category } = event.data;\n  const filePath = join(dirPath, INDEX_MD);\n\n  if (await fileExists(filePath)) {\n    return;\n  }\n\n  const label = startCase(category);\n  const content = `---\\ntitle: "${label}"\\n---\\n\\n`;\n  await ensureDir(dirPath);\n  await saveFile(filePath, content);\n};\n\n/**\n * Hook that appends a link to the entity\'s page in the index file after rendering type entities.\n * \n * This hook is triggered after a GraphQL type entity is rendered. \n * It checks if an index file exists in the same directory as the \n * rendered entity, and if so, appends a markdown link to the entity\'s page.\n */\nconst afterRenderTypeEntitiesHook = async (event) => {\n  const { filePath, name } = event.data;\n  const indexFilePath = resolve(dirname(filePath), INDEX_MD);\n  const pageFileName = basename(filePath);\n  if (await fileExists(indexFilePath)) {\n    const entryLine = `- [${name}](./${pageFileName})\\n`;\n    await appendFile(indexFilePath, entryLine);\n  }\n};\n\nexport { \n  beforeGenerateIndexMetafileHook, \n  afterRenderTypeEntitiesHook \n};\n'})})]})}function h(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},50065:function(e,n,t){t.d(n,{Z:function(){return s},a:function(){return r}});var i=t(67294);let a={},o=i.createContext(a);function r(e){let n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);